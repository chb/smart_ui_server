<html>
    <head>
        <link rel="stylesheet" href="../../jmvc/rhino/documentation/style.css" type="text/css" />
        <title>MVC.Controller</title>
    </head>
    <body>
        <div id='left_side'><h3>Documentation</h3>

    
        
 
            <a href='../classes/Account.html' id='Account.html'>
                Account
            </a>
       
        
    
        
 
            <a href='../classes/HealthfeedController.html' id='HealthfeedController.html'>
                HealthfeedController
            </a>
       
        
    
        
 
            <a href='../classes/MainController.html' id='MainController.html'>
                MainController
            </a>
       
        
    
        
 
            <a href='../classes/Message.html' id='Message.html'>
                Message
            </a>
       
        
    
        
 
            <a href='../classes/MessagingController.html' id='MessagingController.html'>
                MessagingController
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Class.html' id='MVC.Class.html'>
                MVC.Class
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Controller.html' id='MVC.Controller.html'>
                <span class='matches_previous'>MVC.</span>Controller
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Controller.Action.html' id='MVC.Controller.Action.html'>
                <span class='matches_previous'>MVC.Controller.</span>Action
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Controller.Action.Event.html' id='MVC.Controller.Action.Event.html'>
                <span class='matches_previous'>MVC.Controller.Action.</span>Event
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Controller.Action.Subscribe.html' id='MVC.Controller.Action.Subscribe.html'>
                <span class='matches_previous'>MVC.Controller.Action.</span>Subscribe
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Controller.Params.html' id='MVC.Controller.Params.html'>
                <span class='matches_previous'>MVC.Controller.</span>Params
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Delegator.html' id='MVC.Delegator.html'>
                <span class='matches_previous'>MVC.</span>Delegator
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Element.html' id='MVC.Element.html'>
                <span class='matches_previous'>MVC.</span>Element
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Event.html' id='MVC.Event.html'>
                <span class='matches_previous'>MVC.</span>Event
            </a>
       
        
    
        
 
            <a href='../classes/MVC.IO.html' id='MVC.IO.html'>
                <span class='matches_previous'>MVC.</span>IO
            </a>
       
        
    
        
 
            <a href='../classes/MVC.IO.Ajax.html' id='MVC.IO.Ajax.html'>
                <span class='matches_previous'>MVC.IO.</span>Ajax
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Model.html' id='MVC.Model.html'>
                <span class='matches_previous'>MVC.</span>Model
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Model.Ajax.html' id='MVC.Model.Ajax.html'>
                <span class='matches_previous'>MVC.Model.</span>Ajax
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Model.XmlRest.html' id='MVC.Model.XmlRest.html'>
                <span class='matches_previous'>MVC.Model.</span>XmlRest
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Native.html' id='MVC.Native.html'>
                <span class='matches_previous'>MVC.</span>Native
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Native.Array.html' id='MVC.Native.Array.html'>
                <span class='matches_previous'>MVC.Native.</span>Array
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Native.Date.html' id='MVC.Native.Date.html'>
                <span class='matches_previous'>MVC.Native.</span>Date
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Native.Function.html' id='MVC.Native.Function.html'>
                <span class='matches_previous'>MVC.Native.</span>Function
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Native.Number.html' id='MVC.Native.Number.html'>
                <span class='matches_previous'>MVC.Native.</span>Number
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Native.Object.html' id='MVC.Native.Object.html'>
                <span class='matches_previous'>MVC.Native.</span>Object
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Native.String.html' id='MVC.Native.String.html'>
                <span class='matches_previous'>MVC.Native.</span>String
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Store.html' id='MVC.Store.html'>
                <span class='matches_previous'>MVC.</span>Store
            </a>
       
        
    
        
 
            <a href='../classes/MVC.Vector.html' id='MVC.Vector.html'>
                <span class='matches_previous'>MVC.</span>Vector
            </a>
       
        
    
        
 
            <a href='../classes/MVC.View.html' id='MVC.View.html'>
                <span class='matches_previous'>MVC.</span>View
            </a>
       
        
    
        
 
            <a href='../classes/MVC.View.Helpers.html' id='MVC.View.Helpers.html'>
                <span class='matches_previous'>MVC.View.</span>Helpers
            </a>
       
        
    
        
 
            <a href='../classes/OpenAjax.html' id='OpenAjax.html'>
                OpenAjax
            </a>
       
        
    
        
 
            <a href='../classes/PHA.html' id='PHA.html'>
                PHA
            </a>
       
        
    
        
 
            <a href='../classes/Record.html' id='Record.html'>
                Record
            </a>
       
        
    
        
 
            <a href='../classes/RecordController.html' id='RecordController.html'>
                RecordController
            </a>
       
        
    
</div>
        <div id='right_side'><div><h1>MVC.Controller <label>API</label></h1>

<div id='shortcuts'><a href='#MVC.Controller'>MVC.Controller</a>, <a href='#MVC.Controller.prototype'>prototype</a>, <a href='#MVC.Controller.prototype.continue_to'>continue_to</a>, <a href='#MVC.Controller.prototype.delay'>delay</a>, <a href='#MVC.Controller.prototype.publish'>publish</a>, <a href='#MVC.Controller.prototype.render'>render</a>, <a href='#MVC.Controller.static'>static</a>, <a href='#MVC.Controller.static._listening'>_listening</a>, <a href='#MVC.Controller.static.dispatch'>dispatch</a>, <a href='#MVC.Controller.static.init'>init</a>, <a href='#MVC.Controller.static.modelName'>modelName</a></div>


    <div class='inherits'>Inherits: <b><a href='MVC.Class.html'>MVC.Class</a></b></div>


<div class='group'>Controllers respond to events. If something happens in your application, be it a click, or
 a <a href='MVC.Model.html'>Model</a> being updated, a controller should respond to it.
 <h3>Example</h3>
<pre><code class='javascript'>//Instead of:
$('.tasks').click(function(e){ ... })
//do this
TasksController = MVC.Controller.extend('tasks',{
  click: function(params){...}
})</code></pre> <h2>Actions</h2>
 To respond to events, controllers simply name their event handling functions to match
 an <a href='MVC.Controller.Action.html'>Action</a>.  <br/><br/> In the previous example, TasksController's click action is matched by the <a href='MVC.Controller.Action.Event.html'>Event</a> Action. 
 Event matches functions that are combination of CSS selector and event name.  Here's another example:
<pre><code class='javascript'>TasksController = MVC.Controller.extend('tasks',{
  ".delete mouseover": function(params){ ... }
})</code></pre> <h3>Types of Actions</h3>
 There are many types of Actions.  By default, Controller will match <a href='MVC.Controller.Action.Event.html'>Event</a> and
 <a href='MVC.Controller.Action.Subscribe.html'>Subscribe</a> actions.  To match other actions, include their plugins.<br/><br/><table>
	<tr>
        <th>Action</th><th>Format</th><th>Description</th>
    </tr>
    <tbody  style="font-size: 10px;">
    <tr>
        <td><a href='MVC.Controller.Action.Event.html'>Event</a></td>
        <td>[CSS] [change|click|...]</td>
        <td>Matches standard DOM events</td>
    </tr>
    <tr>
        <td><a href='MVC.Controller.Action.Subscribe.html'>Subscribe</a></td>
        <td>[OpenAjax.hub event] subscribe</td>
        <td>Subscribes this action to OpenAjax hub.</td>
    </tr>
    <tr>
        <td>[MVC.Controller.Action.Drag Drag]</td>
        <td>[CSS] [dragstart|dragging|...]</td>
        <td>Matches events on a dragged object</td>
    </tr>
    <tr>
        <td>[MVC.Controller.Action.Drop Drop]</td>
        <td>[CSS] [dropadd|dropover|...]</td>
        <td>Matches events on a droppable object</td>
    </tr>
    <tr>
        <td>[MVC.Controller.Action.EnterLeave EnterLeave]</td>
        <td>[CSS] [mouseenter|mouseleave.]</td>
        <td>Similar to mouseover, mouseout, but handles nested elements.</td>
    </tr>
    <tr>
        <td>[MVC.Controller.Action.Hover Hover]</td>
        <td>[CSS] [hoverenter|hoverleave.]</td>
        <td>Similar to mouseenter, but only gets called if the user stops on an element.</td>
    </tr>
    <tr>
        <td>[MVC.Controller.Action.Lasso Lasso]</td>
        <td>[CSS] [lassostart|...]</td>
        <td>Allows you to lasso elements.</td>
    </tr>
    <tr>
        <td>[MVC.Controller.Action.Selectable Selectable]</td>
        <td>[CSS] [selectadd|...]</td>
        <td>Matches events on elements that can be selected by the lasso.</td>
    </tr>
    </tbody>
</table><br/><br/> <h2>Naming Controllers</h2>
 Controllers use their name to limit the DOM they act upon.  Depending if the controller name is 
 plural, singular or main, it changes which elements it responds to.
 <h3>Singular Controllers</h3>
 Singluar controllers respond to events in or on an element with an id that matches the controller name.
<pre><code class='javascript'>//matches &lt;div id="file_manager"&gt;&lt;/div&gt;
FileManagerController = MVC.Controller.extend('file_manager')</code></pre> <h3>Plural Controllers</h3>
 Plural controllers respond to events in or on elements with classNames that match the singular 
 controller name.
<pre><code class='javascript'>//matches &lt;div class="task"&gt;&lt;/div&gt;
TasksController = MVC.Controller.extend('tasks')</code></pre> If you want to match events on an element with the id, add '#' to the start of your action.  For example:
<pre><code class='javascript'>TasksController = MVC.Controller.extend('tasks',{
  click : function(){ .. }     //matches &lt;div class="task"&gt;&lt;/div&gt;
  "# click" : function(){ .. } //matches &lt;div id="tasks"&gt;&lt;/div&gt;
})</code></pre> <h3>Main Controllers</h3>
 Controllers with the name 'main' can match events anywhere in the DOM.  <br/><br/> <h2>Params</h2>
 Controller actions get called with an instance of <a href='MVC.Controller.Params.html'>MVC.Controller.Params</a>.  Params
 provide aditional functionality based on the param data.  Killing events is a good example.
 Some actions get called with classes that inherit from MVC.Controller.Params.
 Check your action's params for the data that gets passed to your event handling functions.<br/><br/></div>

<div><h2>Static Methods</h2>
<div><div class='attribute' id="MVC.Controller.static._listening"><h3>_listening</h3><p>A flag if controllers can respond to events.
      
</p></div><div class='method'>
 
 
 <h3 id="MVC.Controller.static.dispatch">dispatch</h3>
 <pre class='signiture'><code>dispatch(action_name, params) -> undefined</code></pre>
 <div class='real_comment'>Calls the Controller prototype function specified by action_name with the given params.
</div>
   
      <div class='param '>
          <label>action_name</label>
          <code>{String}</code> - The name of the action to be called.
      </div>
   
      <div class='param '>
          <label>params</label>
          <code>{Controller.Params}</code> - The params the action will be called with.
     
      </div>
 

                
</div><div class='method'>
 
 
 <h3 id="MVC.Controller.static.init">init</h3>
 <pre class='signiture'><code>init() -> undefined</code></pre>
 <div class='real_comment'>Looks for controller actions and hooks them up to delegator
     
</div>
 

                
</div><div class='attribute' id="MVC.Controller.static.modelName"><h3>modelName</h3><p>The name of the model this controller can uses for param functions like element_instance
      
</p></div></div><h2>Prototype Methods</h2>
<div><div class='method'>
 
 
 <h3 id="MVC.Controller.prototype.continue_to">continue_to</h3>
 <pre class='signiture'><code>continue_to(action) -> Function</code></pre>
 <div class='real_comment'>Returns a function that when called, calls the action with parameters passed to the function. 
 This is very useful for creating callbacks for Ajax functionality. 
 The callback is called on the same controller instance that created the callback. 
 This allows you to easily pass objects between request and response without resorting to closures. 
 Example:
<pre><code class='javascript'>Controller('todos',{
   "a click" : function(params){ 
      this.element = params.element;
	  this.element.innerHTML = 'deleting ...';
	  new Ajax('delete', {onComplete: this.continue_to('deleted')}
   },
   deleted : function(response){
      this.element.parentNode.removeChild(this.element);
   }
});</code></pre></div>
   
      <div class='param '>
          <label>action</label>
          <code>{String}</code> - Name of prototype function you want called
      </div>
 

 
     <div class='return'>
         <label>returns</label> 
         <code>{Function}</code> - function that when called, directs to another controller function
     
     </div>
                
</div><div class='method'>
 
 
 <h3 id="MVC.Controller.prototype.delay">delay</h3>
 <pre class='signiture'><code>delay(delay, action_name, params) -> undefined</code></pre>
 <div class='real_comment'>Calls an action after some delay
</div>
   
      <div class='param '>
          <label>delay</label>
          <code>{Object}</code> - 
      </div>
   
      <div class='param '>
          <label>action_name</label>
          <code>{Object}</code> - 
      </div>
   
      <div class='param '>
          <label>params</label>
          <code>{Object}</code> - 
     
      </div>
 

                
</div><div class='method'>
 
 
 <h3 id="MVC.Controller.prototype.publish">publish</h3>
 <pre class='signiture'><code>publish(message, data) -> undefined</code></pre>
 <div class='real_comment'>Publishes a message to OpenAjax.hub.  Other controllers 
</div>
   
      <div class='param '>
          <label>message</label>
          <code>{String}</code> - 
      </div>
   
      <div class='param '>
          <label>data</label>
          <code>{Object}</code> - 
     
      </div>
 

                
</div><div class='method'>
  
     <div class='added_by'>controller/view</div>
 
 
 <h3 id="MVC.Controller.prototype.render">render</h3>
 <pre class='signiture'><code>render(options) -> String</code></pre>
 <div class='real_comment'>Renders a View template with the controller instance. If action or partial 
 are not supplied in the options, 
 it looks for a view in app/views/controller_name/action_name.ejs
 
<pre><code class='javascript'> TasksController = MVC.Controller.extend('tasks',{
   click : function(params){
     this.data = "Hello_world"                             // can display with &lt;%= data %>
     this.render({after: params.element, action: "under"}) // renders with views/tasks/under.ejs
     this.render({to: "element_id"})                       // renders with views/tasks/click.ejs
     this.render({top: "another_e", partial: "bee/sugar")) // renders with views/bee/_sugar.ejs
   }
 })</code></pre></div>
   
      <div class='param '>
          <label>options</label>
          <code>{Object}</code> - A hash with the following properties
 <table class="options">
					<tbody><tr><th>Option</th><th>Default</th><th>Description</th></tr>
					<tr>
						<td>action</td>
						<td>null</td>
						<td>If present, looks for a template in app/views/<i>controller_name</i>/<i>action</i>.ejs
						</td>
					</tr>
					<tr>
						<td>partial</td>
						<td>null</td>
						<td>A string value that looks like: 'folder/template' or 'template'.  If a folder is present,
						    it looks for a template in app/views/<i>folder</i>/_<i>template</i>.ejs; otherwise,
							it looks for a template in app/views/<i>controller_name</i>/<i>template</i>.ejs.
						</td>
					</tr>
					<tr>
						<td>to</td>
						<td>null</td>
						<td>If present, a HTMLElement or element ID whose text will be replaced by the render.
						</td>
					</tr>
					<tr>
						<td>before, after, top, bottom</td>
						<td>null</td>
						<td>If present, the content will be placed relative to 
						the HTMLElement or element ID.  The dom/element plugin is required for this functionality.
						</td>
					</tr>
					<tr>
						<td>text</td>
						<td>null</td>
						<td>Instead of using a view to generate text, it uses the text as the rendered text.
						</td>
					</tr>
					<tr>
						<td>using</td>
						<td>null</td>
						<td>If present, renders with the data in using instead of the controller instance.  This is important for
						stateful controllers.
						</td>
					</tr>
				</tbody></table>
	 
 
      </div>
 

 
     <div class='return'>
         <label>returns</label> 
         <code>{String}</code> - the result of the render.
     </div>
                
</div></div></div>
</div></div>
        <script type="text/javascript" src="../../jmvc/rhino/documentation/highlight/highlight.js"></script>
        <script type="text/javascript">
          hljs.initHighlightingOnLoad('html', 'css','javascript');
        </script>
        <script type="text/javascript">
            //select someone
            parts = window.location.href.split("/")
            var selected = document.getElementById(parts.pop().replace(/[#|?].*/,""))
            if(selected){
                selected.className = "selected";
            }
        </script>
    </body>
</html>